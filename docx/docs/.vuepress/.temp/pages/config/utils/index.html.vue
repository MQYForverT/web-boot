<template><div><h1 id="å®ç”¨å·¥å…·å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#å®ç”¨å·¥å…·å‡½æ•°"><span>å®ç”¨å·¥å…·å‡½æ•°</span></a></h1>
<p><strong>@mqy/utils</strong> - é¡¹ç›®å¼€å‘ä¸­å¸¸ç”¨çš„å·¥å…·å‡½æ•°åº“ï¼Œæä¾› HTTP è¯·æ±‚ã€è¿›åº¦æ¡ã€ç‰¹æ•ˆç­‰å®ç”¨åŠŸèƒ½ã€‚</p>
<h2 id="ğŸ“¦-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#ğŸ“¦-å®‰è£…"><span>ğŸ“¦ å®‰è£…</span></a></h2>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code><span class="line"><span class="token function">npm</span> <span class="token function">install</span> @mqy/utils</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2 id="ğŸš€-å¿«é€Ÿå¼€å§‹" tabindex="-1"><a class="header-anchor" href="#ğŸš€-å¿«é€Ÿå¼€å§‹"><span>ğŸš€ å¿«é€Ÿå¼€å§‹</span></a></h2>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> httpRequest<span class="token punctuation">,</span> nprogress<span class="token punctuation">,</span> typewriter<span class="token punctuation">,</span> compatibleScrollTo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// HTTP è¯·æ±‚</span></span>
<span class="line"><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> httpRequest<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/api/users'</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// è¿›åº¦æ¡</span></span>
<span class="line">nprogress<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ‰“å­—æœºæ•ˆæœ</span></span>
<span class="line"><span class="token keyword">await</span> typewriter<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'Hello World!'</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å…¼å®¹æ€§æ»šåŠ¨</span></span>
<span class="line"><span class="token function">compatibleScrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> top<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> behavior<span class="token operator">:</span> <span class="token string">'smooth'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸŒ-http-è¯·æ±‚å·¥å…·" tabindex="-1"><a class="header-anchor" href="#ğŸŒ-http-è¯·æ±‚å·¥å…·"><span>ğŸŒ HTTP è¯·æ±‚å·¥å…·</span></a></h2>
<h3 id="åŸºç¡€ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€ç”¨æ³•"><span>åŸºç¡€ç”¨æ³•</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> httpRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// GET è¯·æ±‚</span></span>
<span class="line"><span class="token keyword">const</span> users <span class="token operator">=</span> <span class="token keyword">await</span> httpRequest<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/api/users'</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> user <span class="token operator">=</span> <span class="token keyword">await</span> httpRequest<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/api/users/1'</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// POST è¯·æ±‚</span></span>
<span class="line"><span class="token keyword">const</span> newUser <span class="token operator">=</span> <span class="token keyword">await</span> httpRequest<span class="token punctuation">.</span><span class="token function">post</span><span class="token punctuation">(</span><span class="token string">'/api/users'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">	name<span class="token operator">:</span> <span class="token string">'John Doe'</span><span class="token punctuation">,</span></span>
<span class="line">	email<span class="token operator">:</span> <span class="token string">'john@example.com'</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// PUT è¯·æ±‚</span></span>
<span class="line"><span class="token keyword">const</span> updatedUser <span class="token operator">=</span> <span class="token keyword">await</span> httpRequest<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">'/api/users/1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">	name<span class="token operator">:</span> <span class="token string">'Jane Doe'</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// DELETE è¯·æ±‚</span></span>
<span class="line"><span class="token keyword">await</span> httpRequest<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span><span class="token string">'/api/users/1'</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é«˜çº§åŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#é«˜çº§åŠŸèƒ½"><span>é«˜çº§åŠŸèƒ½</span></a></h3>
<p><strong>æ–‡ä»¶ä¸Šä¼ </strong>ï¼š</p>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> httpRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å•æ–‡ä»¶ä¸Šä¼ </span></span>
<span class="line"><span class="token keyword">const</span> file <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input[type="file"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span></span>
<span class="line"><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> httpRequest<span class="token punctuation">.</span><span class="token function">upload</span><span class="token punctuation">(</span><span class="token string">'/api/upload'</span><span class="token punctuation">,</span> file<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å¤šæ–‡ä»¶ä¸Šä¼ </span></span>
<span class="line"><span class="token keyword">const</span> files <span class="token operator">=</span> <span class="token builtin">Array</span><span class="token punctuation">.</span><span class="token function">from</span><span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'input[type="file"]'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>files<span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> results <span class="token operator">=</span> <span class="token keyword">await</span> httpRequest<span class="token punctuation">.</span><span class="token function">uploadMultiple</span><span class="token punctuation">(</span><span class="token string">'/api/upload/batch'</span><span class="token punctuation">,</span> files<span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å¸¦è¿›åº¦çš„ä¸Šä¼ </span></span>
<span class="line"><span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token keyword">await</span> httpRequest<span class="token punctuation">.</span><span class="token function">upload</span><span class="token punctuation">(</span><span class="token string">'/api/upload'</span><span class="token punctuation">,</span> file<span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token function-variable function">onProgress</span><span class="token operator">:</span> <span class="token punctuation">(</span>progress<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ä¸Šä¼ è¿›åº¦: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>progress<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">%</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>æ–‡ä»¶ä¸‹è½½</strong>ï¼š</p>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> httpRequest<span class="token punctuation">,</span> downBlobFile <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ç›´æ¥ä¸‹è½½</span></span>
<span class="line"><span class="token keyword">await</span> httpRequest<span class="token punctuation">.</span><span class="token function">download</span><span class="token punctuation">(</span><span class="token string">'/api/download/file.pdf'</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// è·å–æ–‡ä»¶æ•°æ®åå¤„ç†</span></span>
<span class="line"><span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">await</span> httpRequest<span class="token punctuation">.</span><span class="token function">downloadBlob</span><span class="token punctuation">(</span><span class="token string">'/api/export/data.xlsx'</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">downBlobFile</span><span class="token punctuation">(</span>blob<span class="token punctuation">,</span> <span class="token string">'exported-data.xlsx'</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å¸¦è¿›åº¦çš„ä¸‹è½½</span></span>
<span class="line"><span class="token keyword">await</span> httpRequest<span class="token punctuation">.</span><span class="token function">download</span><span class="token punctuation">(</span><span class="token string">'/api/large-file.zip'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token function-variable function">onProgress</span><span class="token operator">:</span> <span class="token punctuation">(</span>progress<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">ä¸‹è½½è¿›åº¦: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>progress<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">%</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¯·æ±‚é…ç½®" tabindex="-1"><a class="header-anchor" href="#è¯·æ±‚é…ç½®"><span>è¯·æ±‚é…ç½®</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> httpRequest <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å…¨å±€é…ç½®</span></span>
<span class="line">httpRequest<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	baseURL<span class="token operator">:</span> <span class="token string">'https://api.example.com'</span><span class="token punctuation">,</span></span>
<span class="line">	timeout<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span></span>
<span class="line">	headers<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		Authorization<span class="token operator">:</span> <span class="token string">'Bearer your-token'</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token string-property property">'Content-Type'</span><span class="token operator">:</span> <span class="token string">'application/json'</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// è¯·æ±‚æ‹¦æˆªå™¨</span></span>
<span class="line">httpRequest<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>request<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token punctuation">(</span>config<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// æ·»åŠ æ—¶é—´æˆ³</span></span>
<span class="line">	config<span class="token punctuation">.</span>params <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token operator">...</span>config<span class="token punctuation">.</span>params<span class="token punctuation">,</span></span>
<span class="line">		_t<span class="token operator">:</span> Date<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line">	<span class="token keyword">return</span> config</span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å“åº”æ‹¦æˆªå™¨</span></span>
<span class="line">httpRequest<span class="token punctuation">.</span>interceptors<span class="token punctuation">.</span>response<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span></span>
<span class="line">	<span class="token punctuation">(</span>response<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token comment">// ç»Ÿä¸€å¤„ç†å“åº”æ•°æ®</span></span>
<span class="line">		<span class="token keyword">return</span> response<span class="token punctuation">.</span>data</span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token comment">// ç»Ÿä¸€é”™è¯¯å¤„ç†</span></span>
<span class="line">		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'è¯·æ±‚å¤±è´¥:'</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span></span>
<span class="line">		<span class="token keyword">throw</span> error</span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é”™è¯¯å¤„ç†" tabindex="-1"><a class="header-anchor" href="#é”™è¯¯å¤„ç†"><span>é”™è¯¯å¤„ç†</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> httpRequest<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/api/users'</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>response<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token comment">// æœåŠ¡å™¨å“åº”é”™è¯¯</span></span>
<span class="line">		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'çŠ¶æ€ç :'</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>status<span class="token punctuation">)</span></span>
<span class="line">		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'é”™è¯¯ä¿¡æ¯:'</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>response<span class="token punctuation">.</span>data<span class="token punctuation">.</span>message<span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>error<span class="token punctuation">.</span>request<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token comment">// ç½‘ç»œé”™è¯¯</span></span>
<span class="line">		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'ç½‘ç»œé”™è¯¯:'</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token comment">// å…¶ä»–é”™è¯¯</span></span>
<span class="line">		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">'è¯·æ±‚é…ç½®é”™è¯¯:'</span><span class="token punctuation">,</span> error<span class="token punctuation">.</span>message<span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“Š-è¿›åº¦æ¡å·¥å…·" tabindex="-1"><a class="header-anchor" href="#ğŸ“Š-è¿›åº¦æ¡å·¥å…·"><span>ğŸ“Š è¿›åº¦æ¡å·¥å…·</span></a></h2>
<h3 id="åŸºç¡€ç”¨æ³•-1" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€ç”¨æ³•-1"><span>åŸºç¡€ç”¨æ³•</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> nprogress <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å¼€å§‹è¿›åº¦æ¡</span></span>
<span class="line">nprogress<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// è®¾ç½®è¿›åº¦</span></span>
<span class="line">nprogress<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token number">0.4</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å¢åŠ è¿›åº¦</span></span>
<span class="line">nprogress<span class="token punctuation">.</span><span class="token function">inc</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å®Œæˆè¿›åº¦</span></span>
<span class="line">nprogress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é«˜çº§é…ç½®" tabindex="-1"><a class="header-anchor" href="#é«˜çº§é…ç½®"><span>é«˜çº§é…ç½®</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> nprogress <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// è‡ªå®šä¹‰é…ç½®</span></span>
<span class="line">nprogress<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// æ˜¾ç¤ºæ—‹è½¬å™¨</span></span>
<span class="line">	showSpinner<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// åŠ¨ç”»é€Ÿåº¦</span></span>
<span class="line">	speed<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// æœ€å°ç™¾åˆ†æ¯”</span></span>
<span class="line">	minimum<span class="token operator">:</span> <span class="token number">0.08</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// é€’å¢æ­¥é•¿</span></span>
<span class="line">	trickleSpeed<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// è‡ªå®šä¹‰æ¨¡æ¿</span></span>
<span class="line">	template<span class="token operator">:</span></span>
<span class="line">		<span class="token string">'&lt;div class="bar" role="bar">&lt;div class="peg">&lt;/div>&lt;/div>&lt;div class="spinner" role="spinner">&lt;div class="spinner-icon">&lt;/div>&lt;/div>'</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// è‡ªå®šä¹‰æ ·å¼</span></span>
<span class="line">nprogress<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// è‡ªå®šä¹‰ CSS</span></span>
<span class="line">	css<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string"></span>
<span class="line">    #nprogress .bar {</span>
<span class="line">      background: #29d !important;</span>
<span class="line">    }</span>
<span class="line">    #nprogress .peg {</span>
<span class="line">      box-shadow: 0 0 10px #29d, 0 0 5px #29d !important;</span>
<span class="line">    }</span>
<span class="line">    #nprogress .spinner-icon {</span>
<span class="line">      border-top-color: #29d !important;</span>
<span class="line">      border-left-color: #29d !important;</span>
<span class="line">    }</span>
<span class="line">  </span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è·¯ç”±é›†æˆ" tabindex="-1"><a class="header-anchor" href="#è·¯ç”±é›†æˆ"><span>è·¯ç”±é›†æˆ</span></a></h3>
<p><strong>Vue Router</strong>ï¼š</p>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> nprogress <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"><span class="token keyword">import</span> router <span class="token keyword">from</span> <span class="token string">'./router'</span></span>
<span class="line"></span>
<span class="line">router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="line">	nprogress<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">router<span class="token punctuation">.</span><span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="line">	nprogress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><strong>React Router</strong>ï¼š</p>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> nprogress <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useEffect <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> useLocation <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router-dom'</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">  <span class="token keyword">const</span> location <span class="token operator">=</span> <span class="token function">useLocation</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="line">    nprogress<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">const</span> timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> nprogress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span></span>
<span class="line">    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span></span>
<span class="line">  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>location<span class="token punctuation">]</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">  <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">></span><span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">></span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="âŒ¨ï¸-æ‰“å­—æœºæ•ˆæœ" tabindex="-1"><a class="header-anchor" href="#âŒ¨ï¸-æ‰“å­—æœºæ•ˆæœ"><span>âŒ¨ï¸ æ‰“å­—æœºæ•ˆæœ</span></a></h2>
<h3 id="åŸºç¡€ç”¨æ³•-2" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€ç”¨æ³•-2"><span>åŸºç¡€ç”¨æ³•</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> typewriter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ç®€å•æ‰“å­—æ•ˆæœ</span></span>
<span class="line"><span class="token keyword">await</span> typewriter<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'Hello World!'</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// åœ¨æŒ‡å®šå…ƒç´ ä¸­æ‰“å­—</span></span>
<span class="line"><span class="token keyword">const</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'typewriter'</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">await</span> typewriter<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'Hello World!'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> element <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é«˜çº§é…ç½®-1" tabindex="-1"><a class="header-anchor" href="#é«˜çº§é…ç½®-1"><span>é«˜çº§é…ç½®</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> typewriter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å®Œæ•´é…ç½®</span></span>
<span class="line"><span class="token keyword">await</span> typewriter<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'Welcome to Web Boot!'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// ç›®æ ‡å…ƒç´ </span></span>
<span class="line">	element<span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'hero-text'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// æ‰“å­—é€Ÿåº¦ï¼ˆæ¯«ç§’/å­—ç¬¦ï¼‰</span></span>
<span class="line">	speed<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// æ˜¾ç¤ºå…‰æ ‡</span></span>
<span class="line">	cursor<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// å…‰æ ‡å­—ç¬¦</span></span>
<span class="line">	cursorChar<span class="token operator">:</span> <span class="token string">'|'</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// å…‰æ ‡é—ªçƒ</span></span>
<span class="line">	cursorBlink<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// æ˜¯å¦å¾ªç¯</span></span>
<span class="line">	loop<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// å¾ªç¯é—´éš”</span></span>
<span class="line">	delay<span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// åˆ é™¤æ•ˆæœ</span></span>
<span class="line">	deleteAfter<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// åˆ é™¤é€Ÿåº¦</span></span>
<span class="line">	deleteSpeed<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// åˆ é™¤å»¶è¿Ÿ</span></span>
<span class="line">	deleteDelay<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¤šæ®µæ–‡æœ¬" tabindex="-1"><a class="header-anchor" href="#å¤šæ®µæ–‡æœ¬"><span>å¤šæ®µæ–‡æœ¬</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> typewriter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ä¾æ¬¡æ˜¾ç¤ºå¤šæ®µæ–‡æœ¬</span></span>
<span class="line"><span class="token keyword">const</span> texts <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">'Welcome to Web Boot!'</span><span class="token punctuation">,</span> <span class="token string">'Build amazing applications.'</span><span class="token punctuation">,</span> <span class="token string">'With modern web technologies.'</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> text <span class="token keyword">of</span> texts<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">await</span> typewriter<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">		element<span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'hero-text'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">		speed<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span></span>
<span class="line">		deleteAfter<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">		deleteDelay<span class="token operator">:</span> <span class="token number">2000</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å®æ—¶æ§åˆ¶" tabindex="-1"><a class="header-anchor" href="#å®æ—¶æ§åˆ¶"><span>å®æ—¶æ§åˆ¶</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> typewriter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å¼€å§‹æ‰“å­—</span></span>
<span class="line"><span class="token keyword">const</span> instance <span class="token operator">=</span> typewriter<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">'Your text here...'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">	element<span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'text'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">	speed<span class="token operator">:</span> <span class="token number">100</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æš‚åœ</span></span>
<span class="line">instance<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ¢å¤</span></span>
<span class="line">instance<span class="token punctuation">.</span><span class="token function">resume</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// åœæ­¢</span></span>
<span class="line">instance<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// é‡ç½®</span></span>
<span class="line">instance<span class="token punctuation">.</span><span class="token function">reset</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“œ-å…¼å®¹æ€§æ»šåŠ¨" tabindex="-1"><a class="header-anchor" href="#ğŸ“œ-å…¼å®¹æ€§æ»šåŠ¨"><span>ğŸ“œ å…¼å®¹æ€§æ»šåŠ¨</span></a></h2>
<h3 id="åŸºç¡€ç”¨æ³•-3" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€ç”¨æ³•-3"><span>åŸºç¡€ç”¨æ³•</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> compatibleScrollTo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ»šåŠ¨åˆ°é¡¶éƒ¨</span></span>
<span class="line"><span class="token function">compatibleScrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span> top<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ»šåŠ¨åˆ°æŒ‡å®šä½ç½®</span></span>
<span class="line"><span class="token function">compatibleScrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	top<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span></span>
<span class="line">	left<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span></span>
<span class="line">	behavior<span class="token operator">:</span> <span class="token string">'smooth'</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ»šåŠ¨åˆ°å…ƒç´ ä½ç½®</span></span>
<span class="line"><span class="token keyword">const</span> element <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'target'</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">compatibleScrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	element<span class="token punctuation">,</span></span>
<span class="line">	behavior<span class="token operator">:</span> <span class="token string">'smooth'</span><span class="token punctuation">,</span></span>
<span class="line">	block<span class="token operator">:</span> <span class="token string">'start'</span><span class="token punctuation">,</span></span>
<span class="line">	inline<span class="token operator">:</span> <span class="token string">'nearest'</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é«˜çº§åŠŸèƒ½-1" tabindex="-1"><a class="header-anchor" href="#é«˜çº§åŠŸèƒ½-1"><span>é«˜çº§åŠŸèƒ½</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> compatibleScrollTo <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å¸¦å›è°ƒçš„æ»šåŠ¨</span></span>
<span class="line"><span class="token function">compatibleScrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	top<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span></span>
<span class="line">	behavior<span class="token operator">:</span> <span class="token string">'smooth'</span><span class="token punctuation">,</span></span>
<span class="line">	duration<span class="token operator">:</span> <span class="token number">1000</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token function-variable function">onComplete</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ»šåŠ¨å®Œæˆ'</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token function-variable function">onCancel</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ»šåŠ¨è¢«å–æ¶ˆ'</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// è‡ªå®šä¹‰ç¼“åŠ¨å‡½æ•°</span></span>
<span class="line"><span class="token function">compatibleScrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	top<span class="token operator">:</span> <span class="token number">500</span><span class="token punctuation">,</span></span>
<span class="line">	duration<span class="token operator">:</span> <span class="token number">800</span><span class="token punctuation">,</span></span>
<span class="line">	easing<span class="token operator">:</span> <span class="token string">'easeInOutQuad'</span><span class="token punctuation">,</span> <span class="token comment">// 'linear', 'easeInQuad', 'easeOutQuad', 'easeInOutQuad'</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ»šåŠ¨å®¹å™¨å†…çš„å…ƒç´ </span></span>
<span class="line"><span class="token function">compatibleScrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	container<span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'scroll-container'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">	top<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span></span>
<span class="line">	behavior<span class="token operator">:</span> <span class="token string">'smooth'</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ”„-å‡½æ•°é‡è½½å·¥å…·" tabindex="-1"><a class="header-anchor" href="#ğŸ”„-å‡½æ•°é‡è½½å·¥å…·"><span>ğŸ”„ å‡½æ•°é‡è½½å·¥å…·</span></a></h2>
<h3 id="åŸºç¡€ç”¨æ³•-4" tabindex="-1"><a class="header-anchor" href="#åŸºç¡€ç”¨æ³•-4"><span>åŸºç¡€ç”¨æ³•</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createOverload <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// åˆ›å»ºé‡è½½å‡½æ•°</span></span>
<span class="line"><span class="token keyword">const</span> myFunction <span class="token operator">=</span> <span class="token function">createOverload</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">String: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'number'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>num<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Number: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>num<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token string">'number'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>str<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> num<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">String: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>str<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">, Number: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>num<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ä½¿ç”¨</span></span>
<span class="line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// "String: hello"</span></span>
<span class="line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// "Number: 42"</span></span>
<span class="line"><span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">myFunction</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">,</span> <span class="token number">42</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// "String: hello, Number: 42"</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å¤æ‚ç±»å‹æ”¯æŒ" tabindex="-1"><a class="header-anchor" href="#å¤æ‚ç±»å‹æ”¯æŒ"><span>å¤æ‚ç±»å‹æ”¯æŒ</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createOverload <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">User</span> <span class="token punctuation">{</span></span>
<span class="line">	name<span class="token operator">:</span> <span class="token builtin">string</span></span>
<span class="line">	age<span class="token operator">:</span> <span class="token builtin">number</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> processData <span class="token operator">=</span> <span class="token function">createOverload</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'string'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'number'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>data<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'number'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'object'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>data<span class="token operator">:</span> User<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span> type<span class="token operator">:</span> <span class="token string">'user'</span><span class="token punctuation">,</span> value<span class="token operator">:</span> data <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">'string'</span><span class="token punctuation">,</span> <span class="token string">'object'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>id<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> user<span class="token operator">:</span> User<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">		type<span class="token operator">:</span> <span class="token string">'update'</span><span class="token punctuation">,</span></span>
<span class="line">		id<span class="token punctuation">,</span></span>
<span class="line">		user<span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ä½¿ç”¨</span></span>
<span class="line"><span class="token function">processData</span><span class="token punctuation">(</span><span class="token string">'hello'</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">processData</span><span class="token punctuation">(</span><span class="token number">42</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">processData</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token function">processData</span><span class="token punctuation">(</span><span class="token string">'user1'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ› ï¸-å…¶ä»–å®ç”¨å‡½æ•°" tabindex="-1"><a class="header-anchor" href="#ğŸ› ï¸-å…¶ä»–å®ç”¨å‡½æ•°"><span>ğŸ› ï¸ å…¶ä»–å®ç”¨å‡½æ•°</span></a></h2>
<h3 id="é˜²æŠ–å’ŒèŠ‚æµ" tabindex="-1"><a class="header-anchor" href="#é˜²æŠ–å’ŒèŠ‚æµ"><span>é˜²æŠ–å’ŒèŠ‚æµ</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> debounce<span class="token punctuation">,</span> throttle <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// é˜²æŠ–</span></span>
<span class="line"><span class="token keyword">const</span> debouncedFn <span class="token operator">=</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>value<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æœç´¢:'</span><span class="token punctuation">,</span> value<span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// èŠ‚æµ</span></span>
<span class="line"><span class="token keyword">const</span> throttledFn <span class="token operator">=</span> <span class="token function">throttle</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ»šåŠ¨äº‹ä»¶'</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å–æ¶ˆ</span></span>
<span class="line">debouncedFn<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">throttledFn<span class="token punctuation">.</span><span class="token function">cancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ·±æ‹·è´" tabindex="-1"><a class="header-anchor" href="#æ·±æ‹·è´"><span>æ·±æ‹·è´</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> deepClone <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> original <span class="token operator">=</span> <span class="token punctuation">{</span></span>
<span class="line">	name<span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span></span>
<span class="line">	hobbies<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'reading'</span><span class="token punctuation">,</span> <span class="token string">'coding'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">	address<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		city<span class="token operator">:</span> <span class="token string">'New York'</span><span class="token punctuation">,</span></span>
<span class="line">		zipCode<span class="token operator">:</span> <span class="token string">'10001'</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">const</span> cloned <span class="token operator">=</span> <span class="token function">deepClone</span><span class="token punctuation">(</span>original<span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ—¥æœŸæ ¼å¼åŒ–" tabindex="-1"><a class="header-anchor" href="#æ—¥æœŸæ ¼å¼åŒ–"><span>æ—¥æœŸæ ¼å¼åŒ–</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> formatDate<span class="token punctuation">,</span> parseDate <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// æ ¼å¼åŒ–æ—¥æœŸ</span></span>
<span class="line"><span class="token keyword">const</span> formatted <span class="token operator">=</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'YYYY-MM-DD HH:mm:ss'</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> short <span class="token operator">=</span> <span class="token function">formatDate</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'MM/DD/YYYY'</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// è§£ææ—¥æœŸ</span></span>
<span class="line"><span class="token keyword">const</span> date <span class="token operator">=</span> <span class="token function">parseDate</span><span class="token punctuation">(</span><span class="token string">'2024-01-20'</span><span class="token punctuation">,</span> <span class="token string">'YYYY-MM-DD'</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æœ¬åœ°å­˜å‚¨" tabindex="-1"><a class="header-anchor" href="#æœ¬åœ°å­˜å‚¨"><span>æœ¬åœ°å­˜å‚¨</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> storage <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// localStorage å°è£…</span></span>
<span class="line">storage<span class="token punctuation">.</span>local<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'John'</span><span class="token punctuation">,</span> age<span class="token operator">:</span> <span class="token number">30</span> <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> user <span class="token operator">=</span> storage<span class="token punctuation">.</span>local<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span></span>
<span class="line">storage<span class="token punctuation">.</span>local<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'user'</span><span class="token punctuation">)</span></span>
<span class="line">storage<span class="token punctuation">.</span>local<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// sessionStorage å°è£…</span></span>
<span class="line">storage<span class="token punctuation">.</span>session<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">,</span> <span class="token string">'abc123'</span><span class="token punctuation">)</span></span>
<span class="line"><span class="token keyword">const</span> token <span class="token operator">=</span> storage<span class="token punctuation">.</span>session<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// å¸¦è¿‡æœŸæ—¶é—´çš„å­˜å‚¨</span></span>
<span class="line">storage<span class="token punctuation">.</span>local<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'temp-data'</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token number">3600</span><span class="token punctuation">)</span> <span class="token comment">// 1å°æ—¶åè¿‡æœŸ</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“‹-å®Œæ•´ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ğŸ“‹-å®Œæ•´ç¤ºä¾‹"><span>ğŸ“‹ å®Œæ•´ç¤ºä¾‹</span></a></h2>
<h3 id="ç»¼åˆä½¿ç”¨ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ç»¼åˆä½¿ç”¨ç¤ºä¾‹"><span>ç»¼åˆä½¿ç”¨ç¤ºä¾‹</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> httpRequest<span class="token punctuation">,</span> nprogress<span class="token punctuation">,</span> typewriter<span class="token punctuation">,</span> compatibleScrollTo<span class="token punctuation">,</span> debounce <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/utils'</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">class</span> <span class="token class-name">DataService</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token comment">// é…ç½® HTTP è¯·æ±‚</span></span>
<span class="line">		httpRequest<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">			baseURL<span class="token operator">:</span> <span class="token string">'/api'</span><span class="token punctuation">,</span></span>
<span class="line">			timeout<span class="token operator">:</span> <span class="token number">10000</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">		<span class="token comment">// é…ç½®è¿›åº¦æ¡</span></span>
<span class="line">		nprogress<span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">			showSpinner<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">			speed<span class="token operator">:</span> <span class="token number">300</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">		<span class="token comment">// æœç´¢é˜²æŠ–</span></span>
<span class="line">		<span class="token keyword">this</span><span class="token punctuation">.</span>debouncedSearch <span class="token operator">=</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">search</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">300</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">async</span> <span class="token function">loadData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">try</span> <span class="token punctuation">{</span></span>
<span class="line">			nprogress<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">			<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">await</span> httpRequest<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/users'</span><span class="token punctuation">)</span></span>
<span class="line">			nprogress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">			<span class="token keyword">return</span> data</span>
<span class="line">		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">			nprogress<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">			<span class="token keyword">throw</span> error</span>
<span class="line">		<span class="token punctuation">}</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">async</span> <span class="token function">search</span><span class="token punctuation">(</span>keyword<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">const</span> results <span class="token operator">=</span> <span class="token keyword">await</span> httpRequest<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/search'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> q<span class="token operator">:</span> keyword <span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token keyword">return</span> results</span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line">	<span class="token keyword">async</span> <span class="token function">showWelcome</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">await</span> typewriter<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span><span class="token string">'Welcome to our application!'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span></span>
<span class="line">			element<span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'welcome'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">			speed<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span></span>
<span class="line">			cursor<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span>
<span class="line">		<span class="token comment">// æ»šåŠ¨åˆ°å†…å®¹åŒºåŸŸ</span></span>
<span class="line">		<span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="line">			<span class="token function">compatibleScrollTo</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">				element<span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'content'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">				behavior<span class="token operator">:</span> <span class="token string">'smooth'</span><span class="token punctuation">,</span></span>
<span class="line">				block<span class="token operator">:</span> <span class="token string">'start'</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2000</span><span class="token punctuation">)</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token comment">// ä½¿ç”¨</span></span>
<span class="line"><span class="token keyword">const</span> service <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DataService</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">service<span class="token punctuation">.</span><span class="token function">showWelcome</span><span class="token punctuation">(</span><span class="token punctuation">)</span></span>
<span class="line">service<span class="token punctuation">.</span><span class="token function">loadData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token builtin">console</span><span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸš€-æœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#ğŸš€-æœ€ä½³å®è·µ"><span>ğŸš€ æœ€ä½³å®è·µ</span></a></h2>
<ol>
<li><strong>ç»Ÿä¸€é”™è¯¯å¤„ç†</strong>ï¼šåœ¨åº”ç”¨å…¥å£é…ç½®å…¨å±€é”™è¯¯æ‹¦æˆª</li>
<li><strong>åˆç†ä½¿ç”¨é˜²æŠ–èŠ‚æµ</strong>ï¼šé¿å…é¢‘ç¹çš„ç½‘ç»œè¯·æ±‚æˆ–è®¡ç®—</li>
<li><strong>è¿›åº¦åé¦ˆ</strong>ï¼šé•¿æ—¶é—´æ“ä½œæ·»åŠ è¿›åº¦æç¤º</li>
<li><strong>ç”¨æˆ·ä½“éªŒä¼˜åŒ–</strong>ï¼šä½¿ç”¨åŠ¨ç”»å’Œç‰¹æ•ˆæå‡äº¤äº’ä½“éªŒ</li>
<li><strong>æ€§èƒ½è€ƒè™‘</strong>ï¼šå¤§æ•°æ®é‡å¤„ç†æ—¶æ³¨æ„å†…å­˜å ç”¨</li>
<li><strong>å…¼å®¹æ€§å¤„ç†</strong>ï¼šåœ¨ä¸åŒæµè§ˆå™¨ç¯å¢ƒä¸‹æµ‹è¯•å·¥å…·å‡½æ•°</li>
</ol>
<p>é€šè¿‡ä½¿ç”¨ @mqy/utilsï¼Œæ‚¨å¯ä»¥å¤§å¤§æå‡å¼€å‘æ•ˆç‡ï¼ŒåŒæ—¶ç¡®ä¿ä»£ç çš„å¥å£®æ€§å’Œç”¨æˆ·ä½“éªŒã€‚</p>
</div></template>


