<template><div><h1 id="vite-é…ç½®" tabindex="-1"><a class="header-anchor" href="#vite-é…ç½®"><span>Vite é…ç½®</span></a></h1>
<p><strong>@mqy/vite-config</strong> - ä¼˜åŒ–çš„æ„å»ºé…ç½®åŒ…ï¼Œæä¾›æ¡†æ¶ç‰¹å®šçš„ Vite é…ç½®å’Œæ’ä»¶é›†æˆã€‚</p>
<h2 id="ğŸ“¦-å®‰è£…" tabindex="-1"><a class="header-anchor" href="#ğŸ“¦-å®‰è£…"><span>ğŸ“¦ å®‰è£…</span></a></h2>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code><span class="line"><span class="token function">npm</span> <span class="token function">install</span> @mqy/vite-config --save-dev</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div></div></div><h2 id="ğŸš€-å¿«é€Ÿå¼€å§‹" tabindex="-1"><a class="header-anchor" href="#ğŸš€-å¿«é€Ÿå¼€å§‹"><span>ğŸš€ å¿«é€Ÿå¼€å§‹</span></a></h2>
<h3 id="vue-é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#vue-é¡¹ç›®"><span>Vue é¡¹ç›®</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token comment">// vite.config.ts</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/vite-config/vue'</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// é¡¹ç›®ç‰¹å®šé…ç½®</span></span>
<span class="line">	server<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		port<span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="react-é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#react-é¡¹ç›®"><span>React é¡¹ç›®</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token comment">// vite.config.ts</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/vite-config/react'</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// é¡¹ç›®ç‰¹å®šé…ç½®</span></span>
<span class="line">	server<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		port<span class="token operator">:</span> <span class="token number">3001</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="svelte-é¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#svelte-é¡¹ç›®"><span>Svelte é¡¹ç›®</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token comment">// vite.config.ts</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/vite-config/svelte'</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// é¡¹ç›®ç‰¹å®šé…ç½®</span></span>
<span class="line">	server<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		port<span class="token operator">:</span> <span class="token number">3002</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ”§-å†…ç½®æ’ä»¶" tabindex="-1"><a class="header-anchor" href="#ğŸ”§-å†…ç½®æ’ä»¶"><span>ğŸ”§ å†…ç½®æ’ä»¶</span></a></h2>
<h3 id="æ ¸å¿ƒæ’ä»¶" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒæ’ä»¶"><span>æ ¸å¿ƒæ’ä»¶</span></a></h3>
<p><strong>ğŸ¨ UnoCSS</strong></p>
<ul>
<li>åŸå­åŒ– CSS æ¡†æ¶</li>
<li>æŒ‰éœ€ç”Ÿæˆæ ·å¼</li>
<li>è‡ªå®šä¹‰ä¸»é¢˜æ”¯æŒ</li>
</ul>
<p><strong>ğŸ“¦ Auto Import</strong></p>
<ul>
<li>è‡ªåŠ¨å¯¼å…¥ Vue/React/Svelte API</li>
<li>è‡ªå®šä¹‰å¯¼å…¥è§„åˆ™</li>
<li>TypeScript ç±»å‹æ”¯æŒ</li>
</ul>
<p><strong>ğŸ§© Components</strong></p>
<ul>
<li>ç»„ä»¶è‡ªåŠ¨æ³¨å†Œ</li>
<li>æŒ‰éœ€å¯¼å…¥ç»„ä»¶</li>
<li>æ”¯æŒå¤šç§ç»„ä»¶åº“</li>
</ul>
<p><strong>ğŸ“Š Bundle Analyzer</strong></p>
<ul>
<li>æ‰“åŒ…åˆ†æå·¥å…·</li>
<li>å¯è§†åŒ–ä¾èµ–å…³ç³»</li>
<li>ä½“ç§¯ä¼˜åŒ–å»ºè®®</li>
</ul>
<p><strong>ğŸ—œï¸ Compression</strong></p>
<ul>
<li>Gzip/Brotli å‹ç¼©</li>
<li>èµ„æºä¼˜åŒ–</li>
<li>ç¼“å­˜ç­–ç•¥</li>
</ul>
<h2 id="ğŸ“‹-å®Œæ•´é…ç½®é€‰é¡¹" tabindex="-1"><a class="header-anchor" href="#ğŸ“‹-å®Œæ•´é…ç½®é€‰é¡¹"><span>ğŸ“‹ å®Œæ•´é…ç½®é€‰é¡¹</span></a></h2>
<h3 id="vue-é¡¹ç›®é…ç½®" tabindex="-1"><a class="header-anchor" href="#vue-é¡¹ç›®é…ç½®"><span>Vue é¡¹ç›®é…ç½®</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token comment">// vite.config.ts</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/vite-config/vue'</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// æœåŠ¡å™¨é…ç½®</span></span>
<span class="line">	server<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		port<span class="token operator">:</span> <span class="token number">3000</span><span class="token punctuation">,</span></span>
<span class="line">		host<span class="token operator">:</span> <span class="token string">'0.0.0.0'</span><span class="token punctuation">,</span></span>
<span class="line">		open<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">		cors<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">		proxy<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">			<span class="token string-property property">'/api'</span><span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">				target<span class="token operator">:</span> <span class="token string">'http://localhost:8080'</span><span class="token punctuation">,</span></span>
<span class="line">				changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">				<span class="token function-variable function">rewrite</span><span class="token operator">:</span> <span class="token punctuation">(</span>path<span class="token punctuation">)</span> <span class="token operator">=></span> path<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">^\/api</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// æ„å»ºé…ç½®</span></span>
<span class="line">	build<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		target<span class="token operator">:</span> <span class="token string">'es2015'</span><span class="token punctuation">,</span></span>
<span class="line">		outDir<span class="token operator">:</span> <span class="token string">'dist'</span><span class="token punctuation">,</span></span>
<span class="line">		assetsDir<span class="token operator">:</span> <span class="token string">'assets'</span><span class="token punctuation">,</span></span>
<span class="line">		sourcemap<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">		minify<span class="token operator">:</span> <span class="token string">'terser'</span><span class="token punctuation">,</span></span>
<span class="line">		terserOptions<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">			compress<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">				drop_console<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">				drop_debugger<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">		rollupOptions<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">			output<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">				chunkFileNames<span class="token operator">:</span> <span class="token string">'js/[name]-[hash].js'</span><span class="token punctuation">,</span></span>
<span class="line">				entryFileNames<span class="token operator">:</span> <span class="token string">'js/[name]-[hash].js'</span><span class="token punctuation">,</span></span>
<span class="line">				assetFileNames<span class="token operator">:</span> <span class="token string">'[ext]/[name]-[hash].[ext]'</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// è·¯å¾„åˆ«å</span></span>
<span class="line">	resolve<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		alias<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">			<span class="token string-property property">'@'</span><span class="token operator">:</span> <span class="token string">'/src'</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string-property property">'@components'</span><span class="token operator">:</span> <span class="token string">'/src/components'</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string-property property">'@utils'</span><span class="token operator">:</span> <span class="token string">'/src/utils'</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token string-property property">'@assets'</span><span class="token operator">:</span> <span class="token string">'/src/assets'</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// CSS é…ç½®</span></span>
<span class="line">	css<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		preprocessorOptions<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">			scss<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">				additionalData<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">@import "@/styles/variables.scss";</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// ç¯å¢ƒå˜é‡</span></span>
<span class="line">	define<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		__APP_VERSION__<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span>npm_package_version<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">		__BUILD_TIME__<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toISOString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="react-é¡¹ç›®é…ç½®" tabindex="-1"><a class="header-anchor" href="#react-é¡¹ç›®é…ç½®"><span>React é¡¹ç›®é…ç½®</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token comment">// vite.config.ts</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/vite-config/react'</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// React ç‰¹å®šé…ç½®</span></span>
<span class="line">	plugins<span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">		<span class="token comment">// é¢å¤–çš„ React æ’ä»¶</span></span>
<span class="line">	<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// å¼€å‘æœåŠ¡å™¨</span></span>
<span class="line">	server<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		port<span class="token operator">:</span> <span class="token number">3001</span><span class="token punctuation">,</span></span>
<span class="line">		hmr<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">			overlay<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// JSX é…ç½®</span></span>
<span class="line">	esbuild<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		jsxInject<span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">import React from 'react'</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// ä¼˜åŒ–é…ç½®</span></span>
<span class="line">	optimizeDeps<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		include<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'react'</span><span class="token punctuation">,</span> <span class="token string">'react-dom'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">		exclude<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@emotion/react'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="svelte-é¡¹ç›®é…ç½®" tabindex="-1"><a class="header-anchor" href="#svelte-é¡¹ç›®é…ç½®"><span>Svelte é¡¹ç›®é…ç½®</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token comment">// vite.config.ts</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/vite-config/svelte'</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// Svelte ç‰¹å®šé…ç½®</span></span>
<span class="line">	server<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		port<span class="token operator">:</span> <span class="token number">3002</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// æ„å»ºä¼˜åŒ–</span></span>
<span class="line">	build<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		target<span class="token operator">:</span> <span class="token string">'es2020'</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// ä¼˜åŒ–ä¾èµ–</span></span>
<span class="line">	optimizeDeps<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		include<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'svelte/transition'</span><span class="token punctuation">,</span> <span class="token string">'svelte/store'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ¯-è‡ªå®šä¹‰æ’ä»¶" tabindex="-1"><a class="header-anchor" href="#ğŸ¯-è‡ªå®šä¹‰æ’ä»¶"><span>ğŸ¯ è‡ªå®šä¹‰æ’ä»¶</span></a></h2>
<h3 id="æ·»åŠ è‡ªå®šä¹‰æ’ä»¶" tabindex="-1"><a class="header-anchor" href="#æ·»åŠ è‡ªå®šä¹‰æ’ä»¶"><span>æ·»åŠ è‡ªå®šä¹‰æ’ä»¶</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token comment">// vite.config.ts</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/vite-config/vue'</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createSvgIconsPlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vite-plugin-svg-icons'</span></span>
<span class="line"><span class="token keyword">import</span> path <span class="token keyword">from</span> <span class="token string">'path'</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	plugins<span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">		<span class="token comment">// æ·»åŠ  SVG å›¾æ ‡æ’ä»¶</span></span>
<span class="line">		<span class="token function">createSvgIconsPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">			iconDirs<span class="token operator">:</span> <span class="token punctuation">[</span>path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span><span class="token function">cwd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'src/assets/icons'</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">			symbolId<span class="token operator">:</span> <span class="token string">'icon-[dir]-[name]'</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è‡ªå®šä¹‰-unocss-é…ç½®" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰-unocss-é…ç½®"><span>è‡ªå®šä¹‰ UnoCSS é…ç½®</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token comment">// vite.config.ts</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'@mqy/vite-config/vue'</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// UnoCSS è‡ªå®šä¹‰é…ç½®</span></span>
<span class="line">	unocss<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		theme<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">			colors<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">				primary<span class="token operator">:</span> <span class="token string">'#1890ff'</span><span class="token punctuation">,</span></span>
<span class="line">				success<span class="token operator">:</span> <span class="token string">'#52c41a'</span><span class="token punctuation">,</span></span>
<span class="line">				warning<span class="token operator">:</span> <span class="token string">'#faad14'</span><span class="token punctuation">,</span></span>
<span class="line">				error<span class="token operator">:</span> <span class="token string">'#f5222d'</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">			fontFamily<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">				sans<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'Inter'</span><span class="token punctuation">,</span> <span class="token string">'system-ui'</span><span class="token punctuation">,</span> <span class="token string">'sans-serif'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">		shortcuts<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">			<span class="token string-property property">'btn-primary'</span><span class="token operator">:</span> <span class="token string">'bg-primary text-white px-4 py-2 rounded hover:bg-primary/80'</span><span class="token punctuation">,</span></span>
<span class="line">			card<span class="token operator">:</span> <span class="token string">'bg-white rounded-lg shadow-md p-6'</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ—ï¸-æ„å»ºä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#ğŸ—ï¸-æ„å»ºä¼˜åŒ–"><span>ğŸ—ï¸ æ„å»ºä¼˜åŒ–</span></a></h2>
<h3 id="ä»£ç åˆ†å‰²" tabindex="-1"><a class="header-anchor" href="#ä»£ç åˆ†å‰²"><span>ä»£ç åˆ†å‰²</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	build<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		rollupOptions<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">			output<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">				manualChunks<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">					<span class="token comment">// ç¬¬ä¸‰æ–¹åº“åˆ†ç¦»</span></span>
<span class="line">					vendor<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vue'</span><span class="token punctuation">,</span> <span class="token string">'vue-router'</span><span class="token punctuation">,</span> <span class="token string">'pinia'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">					ui<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'element-plus'</span><span class="token punctuation">,</span> <span class="token string">'@element-plus/icons-vue'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">					utils<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'axios'</span><span class="token punctuation">,</span> <span class="token string">'dayjs'</span><span class="token punctuation">,</span> <span class="token string">'lodash-es'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">				<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é¢„åŠ è½½ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#é¢„åŠ è½½ä¼˜åŒ–"><span>é¢„åŠ è½½ä¼˜åŒ–</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	build<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		rollupOptions<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">			output<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">				<span class="token comment">// é¢„åŠ è½½å…³é”®èµ„æº</span></span>
<span class="line">				experimentalMinChunkSize<span class="token operator">:</span> <span class="token number">20000</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// ä¾èµ–é¢„æ„å»º</span></span>
<span class="line">	optimizeDeps<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		include<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vue'</span><span class="token punctuation">,</span> <span class="token string">'vue-router'</span><span class="token punctuation">,</span> <span class="token string">'pinia'</span><span class="token punctuation">,</span> <span class="token string">'element-plus/es'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="èµ„æºå¤„ç†" tabindex="-1"><a class="header-anchor" href="#èµ„æºå¤„ç†"><span>èµ„æºå¤„ç†</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// é™æ€èµ„æºå¤„ç†</span></span>
<span class="line">	assetsInclude<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'**/*.woff'</span><span class="token punctuation">,</span> <span class="token string">'**/*.woff2'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	build<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		rollupOptions<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">			output<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">				<span class="token function-variable function">assetFileNames</span><span class="token operator">:</span> <span class="token punctuation">(</span>assetInfo<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="line">					<span class="token keyword">const</span> info <span class="token operator">=</span> assetInfo<span class="token punctuation">.</span>name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">'.'</span><span class="token punctuation">)</span></span>
<span class="line">					<span class="token keyword">const</span> ext <span class="token operator">=</span> info<span class="token punctuation">[</span>info<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span></span>
<span class="line"></span>
<span class="line">					<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(png|jpe?g|svg|gif|tiff|bmp|ico)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>assetInfo<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">						<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">images/[name]-[hash].</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ext<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span></span>
<span class="line">					<span class="token punctuation">}</span></span>
<span class="line">					<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.(woff2?|eot|ttf|otf)$</span><span class="token regex-delimiter">/</span><span class="token regex-flags">i</span></span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>assetInfo<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">						<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">fonts/[name]-[hash].</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ext<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span></span>
<span class="line">					<span class="token punctuation">}</span></span>
<span class="line">					<span class="token keyword">return</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">assets/[name]-[hash].</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ext<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span></span>
<span class="line">				<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ”-å¼€å‘å·¥å…·" tabindex="-1"><a class="header-anchor" href="#ğŸ”-å¼€å‘å·¥å…·"><span>ğŸ” å¼€å‘å·¥å…·</span></a></h2>
<h3 id="è°ƒè¯•é…ç½®" tabindex="-1"><a class="header-anchor" href="#è°ƒè¯•é…ç½®"><span>è°ƒè¯•é…ç½®</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	<span class="token comment">// å¼€å‘æ¨¡å¼é…ç½®</span></span>
<span class="line">	define<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		__DEV__<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'development'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">		__PROD__<span class="token operator">:</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// æºç æ˜ å°„</span></span>
<span class="line">	build<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		sourcemap<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'development'</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	<span class="token comment">// å¼€å‘æœåŠ¡å™¨</span></span>
<span class="line">	server<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token comment">// é”™è¯¯è¦†ç›–</span></span>
<span class="line">		hmr<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">			overlay<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="æ€§èƒ½ç›‘æ§" tabindex="-1"><a class="header-anchor" href="#æ€§èƒ½ç›‘æ§"><span>æ€§èƒ½ç›‘æ§</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	plugins<span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">		<span class="token comment">// æ‰“åŒ…åˆ†æ</span></span>
<span class="line">		process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">ANALYZE</span> <span class="token operator">===</span> <span class="token string">'true'</span> <span class="token operator">&amp;&amp;</span></span>
<span class="line">			<span class="token function">bundleAnalyzer</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">				analyzerMode<span class="token operator">:</span> <span class="token string">'server'</span><span class="token punctuation">,</span></span>
<span class="line">				openAnalyzer<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>Boolean<span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è‡ªåŠ¨åŒ–éƒ¨ç½²" tabindex="-1"><a class="header-anchor" href="#è‡ªåŠ¨åŒ–éƒ¨ç½²"><span>è‡ªåŠ¨åŒ–éƒ¨ç½²</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	base<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">'production'</span> <span class="token operator">?</span> <span class="token string">'/my-app/'</span> <span class="token operator">:</span> <span class="token string">'/'</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">	build<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token comment">// éƒ¨ç½²é…ç½®</span></span>
<span class="line">		outDir<span class="token operator">:</span> <span class="token string">'dist'</span><span class="token punctuation">,</span></span>
<span class="line">		emptyOutDir<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line"></span>
<span class="line">		<span class="token comment">// èµ„æºå†…è”é˜ˆå€¼</span></span>
<span class="line">		assetsInlineLimit<span class="token operator">:</span> <span class="token number">4096</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ§ª-æµ‹è¯•é›†æˆ" tabindex="-1"><a class="header-anchor" href="#ğŸ§ª-æµ‹è¯•é›†æˆ"><span>ğŸ§ª æµ‹è¯•é›†æˆ</span></a></h2>
<h3 id="vitest-é…ç½®" tabindex="-1"><a class="header-anchor" href="#vitest-é…ç½®"><span>Vitest é…ç½®</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	test<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">		environment<span class="token operator">:</span> <span class="token string">'jsdom'</span><span class="token punctuation">,</span></span>
<span class="line">		globals<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span></span>
<span class="line">		setupFiles<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'./src/test/setup.ts'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">		coverage<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">			reporter<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'text'</span><span class="token punctuation">,</span> <span class="token string">'json'</span><span class="token punctuation">,</span> <span class="token string">'json-summary'</span><span class="token punctuation">,</span> <span class="token string">'html'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">			exclude<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'node_modules/'</span><span class="token punctuation">,</span> <span class="token string">'dist/'</span><span class="token punctuation">,</span> <span class="token string">'**/*.d.ts'</span><span class="token punctuation">,</span> <span class="token string">'**/*.test.{ts,js}'</span><span class="token punctuation">,</span> <span class="token string">'**/*.spec.{ts,js}'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ“Š-æ€§èƒ½ä¼˜åŒ–å»ºè®®" tabindex="-1"><a class="header-anchor" href="#ğŸ“Š-æ€§èƒ½ä¼˜åŒ–å»ºè®®"><span>ğŸ“Š æ€§èƒ½ä¼˜åŒ–å»ºè®®</span></a></h2>
<h3 id="_1-ä¾èµ–ä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_1-ä¾èµ–ä¼˜åŒ–"><span>1. ä¾èµ–ä¼˜åŒ–</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token comment">// é¢„æ„å»ºå¸¸ç”¨ä¾èµ–</span></span>
<span class="line">optimizeDeps<span class="token operator">:</span> <span class="token punctuation">{</span></span>
<span class="line">  include<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'vue'</span><span class="token punctuation">,</span> <span class="token string">'vue-router'</span><span class="token punctuation">,</span> <span class="token string">'pinia'</span><span class="token punctuation">,</span> <span class="token string">'element-plus/es'</span><span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line">  exclude<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">'@vueuse/core'</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token comment">// æŒ‰éœ€å¯¼å…¥çš„åº“</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_2-ä»£ç åˆ†å‰²" tabindex="-1"><a class="header-anchor" href="#_2-ä»£ç åˆ†å‰²"><span>2. ä»£ç åˆ†å‰²</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token comment">// æ™ºèƒ½åˆ†åŒ…</span></span>
<span class="line"><span class="token function-variable function">manualChunks</span><span class="token operator">:</span> <span class="token punctuation">(</span>id<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'node_modules'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span>
<span class="line">		<span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'vue'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'vue-vendor'</span></span>
<span class="line">		<span class="token keyword">if</span> <span class="token punctuation">(</span>id<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">'element-plus'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token string">'ui-vendor'</span></span>
<span class="line">		<span class="token keyword">return</span> <span class="token string">'vendor'</span></span>
<span class="line">	<span class="token punctuation">}</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="_3-èµ„æºä¼˜åŒ–" tabindex="-1"><a class="header-anchor" href="#_3-èµ„æºä¼˜åŒ–"><span>3. èµ„æºä¼˜åŒ–</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token comment">// å›¾ç‰‡ä¼˜åŒ–</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vite'</span></span>
<span class="line"><span class="token keyword">import</span> <span class="token punctuation">{</span> createSvgIconsPlugin <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'vite-plugin-svg-icons'</span></span>
<span class="line"><span class="token keyword">import</span> viteImageOptimize <span class="token keyword">from</span> <span class="token string">'vite-plugin-imagemin'</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">	plugins<span class="token operator">:</span> <span class="token punctuation">[</span></span>
<span class="line">		<span class="token function">viteImageOptimize</span><span class="token punctuation">(</span><span class="token punctuation">{</span></span>
<span class="line">			gifsicle<span class="token operator">:</span> <span class="token punctuation">{</span> optimizationLevel<span class="token operator">:</span> <span class="token number">7</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">			mozjpeg<span class="token operator">:</span> <span class="token punctuation">{</span> quality<span class="token operator">:</span> <span class="token number">80</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">			pngquant<span class="token operator">:</span> <span class="token punctuation">{</span> quality<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">0.65</span><span class="token punctuation">,</span> <span class="token number">0.8</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">			svgo<span class="token operator">:</span> <span class="token punctuation">{</span> plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">'removeViewBox'</span><span class="token punctuation">,</span> active<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">,</span></span>
<span class="line">		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span></span>
<span class="line">	<span class="token punctuation">]</span><span class="token punctuation">,</span></span>
<span class="line"><span class="token punctuation">}</span><span class="token punctuation">)</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸ”§-ç¯å¢ƒé…ç½®" tabindex="-1"><a class="header-anchor" href="#ğŸ”§-ç¯å¢ƒé…ç½®"><span>ğŸ”§ ç¯å¢ƒé…ç½®</span></a></h2>
<h3 id="å¤šç¯å¢ƒç®¡ç†" tabindex="-1"><a class="header-anchor" href="#å¤šç¯å¢ƒç®¡ç†"><span>å¤šç¯å¢ƒç®¡ç†</span></a></h3>
<div class="language-bash line-numbers-mode" data-highlighter="prismjs" data-ext="sh"><pre v-pre><code><span class="line"><span class="token comment"># .env.development</span></span>
<span class="line"><span class="token assign-left variable">VITE_API_BASE_URL</span><span class="token operator">=</span>http://localhost:8080/api</span>
<span class="line"><span class="token assign-left variable">VITE_APP_TITLE</span><span class="token operator">=</span>å¼€å‘ç¯å¢ƒ</span>
<span class="line"></span>
<span class="line"><span class="token comment"># .env.production</span></span>
<span class="line"><span class="token assign-left variable">VITE_API_BASE_URL</span><span class="token operator">=</span>https://api.example.com</span>
<span class="line"><span class="token assign-left variable">VITE_APP_TITLE</span><span class="token operator">=</span>ç”Ÿäº§ç¯å¢ƒ</span>
<span class="line"></span>
<span class="line"><span class="token comment"># .env.staging</span></span>
<span class="line"><span class="token assign-left variable">VITE_API_BASE_URL</span><span class="token operator">=</span>https://staging-api.example.com</span>
<span class="line"><span class="token assign-left variable">VITE_APP_TITLE</span><span class="token operator">=</span>æµ‹è¯•ç¯å¢ƒ</span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="typescript-ç±»å‹å®šä¹‰" tabindex="-1"><a class="header-anchor" href="#typescript-ç±»å‹å®šä¹‰"><span>TypeScript ç±»å‹å®šä¹‰</span></a></h3>
<div class="language-typescript line-numbers-mode" data-highlighter="prismjs" data-ext="ts"><pre v-pre><code><span class="line"><span class="token comment">// vite-env.d.ts</span></span>
<span class="line"><span class="token comment">/// &lt;reference types="vite/client" /></span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">ImportMetaEnv</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">readonly</span> <span class="token constant">VITE_API_BASE_URL</span><span class="token operator">:</span> <span class="token builtin">string</span></span>
<span class="line">	<span class="token keyword">readonly</span> <span class="token constant">VITE_APP_TITLE</span><span class="token operator">:</span> <span class="token builtin">string</span></span>
<span class="line">	<span class="token keyword">readonly</span> <span class="token constant">VITE_APP_DEBUG</span><span class="token operator">:</span> <span class="token builtin">string</span></span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span>
<span class="line"><span class="token keyword">interface</span> <span class="token class-name">ImportMeta</span> <span class="token punctuation">{</span></span>
<span class="line">	<span class="token keyword">readonly</span> env<span class="token operator">:</span> ImportMetaEnv</span>
<span class="line"><span class="token punctuation">}</span></span>
<span class="line"></span></code></pre>
<div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ğŸš€-æœ€ä½³å®è·µ" tabindex="-1"><a class="header-anchor" href="#ğŸš€-æœ€ä½³å®è·µ"><span>ğŸš€ æœ€ä½³å®è·µ</span></a></h2>
<ol>
<li><strong>åˆç†é…ç½®ä»£ç†</strong>ï¼šé¿å¼€è·¨åŸŸé—®é¢˜</li>
<li><strong>æ™ºèƒ½ä»£ç åˆ†å‰²</strong>ï¼šæå‡åŠ è½½æ€§èƒ½</li>
<li><strong>èµ„æºä¼˜åŒ–</strong>ï¼šå‹ç¼©å›¾ç‰‡å’Œå­—ä½“æ–‡ä»¶</li>
<li><strong>ç¯å¢ƒå˜é‡ç®¡ç†</strong>ï¼šåŒºåˆ†ä¸åŒéƒ¨ç½²ç¯å¢ƒ</li>
<li><strong>ä¾èµ–é¢„æ„å»º</strong>ï¼šåŠ é€Ÿå¼€å‘ä½“éªŒ</li>
<li><strong>æ„å»ºåˆ†æ</strong>ï¼šå®šæœŸæ£€æŸ¥æ‰“åŒ…ä½“ç§¯</li>
<li><strong>ç¼“å­˜ç­–ç•¥</strong>ï¼šåˆç†è®¾ç½®èµ„æºç¼“å­˜</li>
</ol>
<p>é€šè¿‡ä½¿ç”¨ @mqy/vite-configï¼Œæ‚¨å¯ä»¥è·å¾—ç»è¿‡ä¼˜åŒ–çš„æ„å»ºé…ç½®å’Œæœ€ä½³çš„å¼€å‘ä½“éªŒã€‚</p>
</div></template>


